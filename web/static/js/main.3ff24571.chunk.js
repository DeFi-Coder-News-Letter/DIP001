(this.webpackJsonpdip001=this.webpackJsonpdip001||[]).push([[0],{110:function(e,t,a){e.exports=a.p+"static/media/bianji.49d90c28.svg"},158:function(e){e.exports=JSON.parse('{"0x39e303865789dace180862c5fcc23378c4661ed5":"lendFMe","0xcdcbc0d4d561e0a3a3313a07d091f666b3b338f8":"handler2","0x3ed5fff5a2d0a7f36025e41a7aa8e74fb428bed0":"Compound"}')},282:function(e,t,a){e.exports=a.p+"static/media/USDT.c916192d.svg"},283:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"authority_","type":"address"}],"name":"setAuthority","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"disableOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"authority","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner_","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"authority","type":"address"}],"name":"LogSetAuthority","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"}],"name":"LogSetOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"},{"constant":false,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"},{"name":"_dispatcher","type":"address"}],"name":"registDispatcher","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"trigger","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"withdrawProfit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"getDispatcher","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"getReserve","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"getReserveRatio","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"getPrinciple","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"}],"name":"getProfit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"},{"name":"_index","type":"uint256"}],"name":"getTHPrinciple","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"},{"name":"_index","type":"uint256"}],"name":"getTHBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_fund","type":"address"},{"name":"_token","type":"address"},{"name":"_index","type":"uint256"}],"name":"getTHProfit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},284:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"authority_","type":"address"}],"name":"setAuthority","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"disableOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"authority","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner_","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_tokenAddr","type":"address"},{"name":"_fundPool","type":"address"},{"name":"_thAddr","type":"address[]"},{"name":"_thPropotion","type":"uint256[]"},{"name":"_tokenDecimals","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"authority","type":"address"}],"name":"LogSetAuthority","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"}],"name":"LogSetOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"},{"constant":false,"inputs":[],"name":"trigger","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdrawProfit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_index","type":"uint256"}],"name":"drainFunds","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getReserve","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getReserveRatio","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getPrinciple","outputs":[{"name":"result","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getBalance","outputs":[{"name":"result","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getProfit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"getTHData","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"getTHPrinciple","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"getTHBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"getTHProfit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getFund","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getProfitBeneficiary","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getReserveUpperLimit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getReserveLowerLimit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getExecuteUnit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getPropotion","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getTHCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"getTHAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"getTargetAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getTHStructures","outputs":[{"name":"","type":"uint256[]"},{"name":"","type":"address[]"},{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_thPropotion","type":"uint256[]"}],"name":"setAimedPropotion","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_targetHandlerAddr","type":"address"},{"name":"_index","type":"uint256"}],"name":"removeTargetHandler","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_targetHandlerAddr","type":"address"}],"name":"addTargetHandler","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_number","type":"uint256"}],"name":"setReserveUpperLimit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_number","type":"uint256"}],"name":"setReserveLowerLimit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_number","type":"uint256"}],"name":"setExecuteUnit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_profitBeneficiary","type":"address"}],"name":"setProfitBeneficiary","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},285:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"guy","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"guy","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"src","type":"address"},{"name":"guy","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},301:function(e,t,a){e.exports=a(645)},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},317:function(e,t){},339:function(e,t){},341:function(e,t){},406:function(e,t){},407:function(e,t){},450:function(e,t){},645:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(15),r=a.n(i),o=(a(306),a(104)),l=a(105),c=a(108),p=a(106),d=a(109),m=(a(307),a(308),function(e){return e/10+"%"}),u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e=e.toLocaleString().replace(/,/g,"");var n=Math.pow(10,t).toLocaleString().replace(/,/g,"").slice(1),s=(e.length>t?e.slice(0,e.length-t)+"."+e.slice(e.length-t):"0."+n.slice(0,n.length-e.length)+e).replace(/(0+)$/g,"");if(s="."===s.slice(-1)?s+"00":s,0===a)return s.slice(0,s.indexOf("."));var i=s.indexOf(".")+1+a;return s.slice(0,i>=s.length?s.length:i)},f=function(e){var t=/\d{1,3}(?=(\d{3})+$)/g;if(e.indexOf(".")>0){var a=e.split(".")[0],n=e.split(".")[1];return(a=(a+"").replace(t,"$&,"))+"."+n}return e=(e+"").replace(t,"$&,")},y=a(158),_=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"handler-item"},s.a.createElement("div",{className:"handler-title"},y[this.props.TargetHandlerAddress.toLocaleLowerCase()],s.a.createElement("span",{className:"btn-clear"},0===Number(this.props.data[0])?s.a.createElement("span",{onClick:function(){e.props.del_item(e.props.index)}},"Remove"):s.a.createElement("span",{onClick:function(){e.props.clear_item(e.props.index)}},"Clear"))),s.a.createElement("div",{className:"item-wrap"},s.a.createElement("div",{className:"handler-item-left"},s.a.createElement("div",{className:"item"},s.a.createElement("span",{className:"item-title"},"Supply"),s.a.createElement("span",{className:"item-num"},f(u(this.props.data[1],this.props.decimals,2)))),s.a.createElement("div",{className:"item"},s.a.createElement("span",{className:"item-title"},"Profit"),s.a.createElement("span",{className:"item-num"},f(u(this.props.data[2],this.props.decimals,2)))),s.a.createElement("div",{className:"item"},s.a.createElement("span",{className:"item-title"},"Cash"),s.a.createElement("span",{className:"item-num"},f(u(this.props.data[3],this.props.decimals,2))))),s.a.createElement("div",{className:"handler-item-right"},s.a.createElement("div",{className:"item"},s.a.createElement("span",{className:"item-title"},"Principle"),s.a.createElement("span",{className:"item-num"},f(u(this.props.data[0],this.props.decimals,2)))),s.a.createElement("div",{className:"item"},s.a.createElement("span",{className:"item-title"},"Ratio"),s.a.createElement("span",{className:"item-num"},m(this.props.ratio))))))}}]),t}(s.a.Component),h=a(650),b=a(649),g=a(648),v=(a(309),a(282)),w=a.n(v),E=a(110),N=a.n(E),R=a(162),k=a.n(R),M=a(283),T=a(284),L=a(285);function P(e){console.log(e)}var C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).get_handler_arr=function(e,t){t=t||[];var n=e||0;console.log(n),a.state.arr_handler_address.length>0&&n<a.state.arr_handler_address.length?a.state.Dispatcher.methods.getTHData(n).call().then((function(e){t[n]=e;var s=n+1;a.get_handler_arr(s,t)})):a.setState({arr_handler:t})},a.addTargetHandler=function(){console.log("add-Target-Handler"),a.setState({visible_add_handler:!0})},a.showModal=function(){a.setState({visible_add_handler:!0})},a.showModal_TR_ratio=function(){a.setState({visible_TR_ratio:!0,Reserve_Upper_Limit_cp:a.state.Reserve_Upper_Limit/10,Reserve_Lower_Limit_cp:a.state.Reserve_Lower_Limit/10})},a.showModal_Handler_ratio=function(){for(var e=[],t=0;t<a.state.arr_Propotion.length;t++)e[t]=a.state.arr_Propotion[t]/10;a.setState({visible_Handler_ratio:!0,handler_ratio_arr:e})},a.showModal_Beneficiary=function(){a.setState({visible_Beneficiary:!0})},a.handleCancel_add_handler=function(e){a.setState({visible_add_handler:!1})},a.handleCancel_TR_ratio=function(e){a.setState({visible_TR_ratio:!1})},a.handleCancel_Handler_ratio=function(e){a.setState({visible_Handler_ratio:!1})},a.handleCancel_Beneficiary=function(){a.setState({visible_Beneficiary:!1})},a.handleCancel_click_action=function(){a.setState({visible_click_action:!1})},a.add_handler_change=function(e){console.log(a.isAddress(e)),a.isAddress(e)?a.setState({add_handler_address:e,add_handler_enable:!0}):a.setState({add_handler_address:e,add_handler_enable:!1})},a.handler_ratio_change=function(e,t){console.log(e,t);var n=a.state.handler_ratio_arr;n[t]=e,a.setState({handler_ratio_arr:n},(function(){for(var e=0,t=0;t<a.state.handler_ratio_arr.length;t++)e=Number(e)+Number(a.state.handler_ratio_arr[t]);console.log(e),100===e?a.setState({handler_ratio_enable:!0}):a.setState({handler_ratio_enable:!1})}))},a.input_Upper_change=function(e){if(console.log(e,a.state.Reserve_Lower_Limit_cp),e<a.state.Reserve_Lower_Limit_cp||e>100||e<0)return a.setState({Upper_Limit_enable:!1,Reserve_Upper_Limit_cp:e}),!1;a.setState({Upper_Limit_enable:!0,Reserve_Upper_Limit_cp:e})},a.input_Lower_change=function(e){if(console.log(e,a.state.Reserve_Upper_Limit_cp),e>a.state.Reserve_Upper_Limit_cp||e>100||e<0)return a.setState({Lower_Limit_enable:!1,Reserve_Lower_Limit_cp:e}),!1;a.setState({Lower_Limit_enable:!0,Reserve_Lower_Limit_cp:e})},a.add_handler_click=function(){console.log("addTargetHandler",a.state.Dispatcher),a.state.Dispatcher.methods.addTargetHandler(a.state.add_handler_address).estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.addTargetHandler(a.state.add_handler_address).send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.withdrawProfit=function(){console.log("withdrawProfit",a.state.Dispatcher),a.state.Dispatcher.methods.withdrawProfit().estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.withdrawProfit().send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.trigger=function(){console.log("trigger",a.state.Dispatcher),a.state.Dispatcher.methods.trigger().estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.trigger().send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.update_Beneficiary_change=function(e){console.log(e),a.setState({update_Beneficiary:e})},a.Upper_Limit_click=function(){console.log("Upper_Limit_click"),a.state.Dispatcher.methods.setReserveUpperLimit(10*a.state.Reserve_Upper_Limit_cp).estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.setReserveUpperLimit(10*a.state.Reserve_Upper_Limit_cp).send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.Lower_Limit_click=function(){console.log("Lower_Limit_click"),a.state.Dispatcher.methods.setReserveLowerLimit(10*a.state.Reserve_Lower_Limit_cp).estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.setReserveLowerLimit(10*a.state.Reserve_Lower_Limit_cp).send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.handler_ratio_click=function(){console.log("setAimedPropotion",a.state.Dispatcher);for(var e=a.state.handler_ratio_arr,t=0;t<a.state.handler_ratio_arr.length;t++)e[t]=10*a.state.handler_ratio_arr[t];console.log(e),a.state.Dispatcher.methods.setAimedPropotion(e).estimateGas({from:a.state.my_account},(function(t,n){a.new_web3.eth.getGasPrice((function(t,s){a.state.Dispatcher.methods.setAimedPropotion(e).send({from:a.state.my_account,gas:Math.ceil(1.3*n),gasPrice:s},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.update_Beneficiary_click=function(){console.log(a.state.update_Beneficiary),a.state.Dispatcher.methods.setProfitBeneficiary(a.state.update_Beneficiary).estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.setProfitBeneficiary(a.state.update_Beneficiary).send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.update_click_action_click=function(){console.log("clear or del: ",a.state.click_action),"clear"===a.state.click_action?a.state.Dispatcher.methods.drainFunds(a.state.clear_item_index).estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.drainFunds(a.state.clear_item_index).send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))})):"remove"===a.state.click_action&&a.state.Dispatcher.methods.removeTargetHandler(a.state.arr_TargetHandlerAddress[a.state.del_item_index],a.state.del_item_index).estimateGas({from:a.state.my_account},(function(e,t){a.new_web3.eth.getGasPrice((function(e,n){a.state.Dispatcher.methods.removeTargetHandler(a.state.arr_TargetHandlerAddress[a.state.del_item_index],a.state.del_item_index).send({from:a.state.my_account,gas:Math.ceil(1.3*t),gasPrice:n},(function(e,t){if(e&&console.log(e),t){console.log(t);var n={},s=Math.random();n[s]=setInterval((function(){console.log("checking getTransactionReceipt..."),a.new_web3.eth.getTransactionReceipt(t,(function(e,t){t&&(console.log(" *** i got getTransactionReceipt... *** "),clearInterval(n[s])),e&&(console.log(e),clearInterval(n[s]))}))}),2e3)}}))}))}))},a.del_item=function(e){console.log(e),a.setState({del_item_index:e,click_action:"remove",visible_click_action:!0})},a.clear_item=function(e){console.log(e),a.setState({clear_item_index:e,click_action:"clear",visible_click_action:!0})},a.state={decimals:{USDC:6},visible_add_handler:!1,handler_ratio_arr:[],Upper_Limit_enable:!0,Lower_Limit_enable:!0,handler_ratio_enable:!0,add_handler_enable:!1},a.address_USDC="0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b",a.address_USDxPool="0xccf31dc9dcb6cb788d3c6b64f73efedfb7e9f20b",a.address_DispatcherEntrance="0xae198993b4202490f6f2893d1e42e888739a7dae",a.address_Dispatcher="",a.new_web3=window.new_web3=new k.a(k.a.givenProvider||null),a.bn=a.new_web3.utils.toBN,a.isAddress=a.new_web3.utils.isAddress,a.new_web3.givenProvider.enable().then((function(e){console.log(e),a.setState({my_account:e[0]})})),new a.new_web3.eth.Contract(M,a.address_DispatcherEntrance).methods.getDispatcher(a.address_USDxPool,a.address_USDC).call().then((function(e){a.address_Dispatcher=e;var t=new a.new_web3.eth.Contract(T,a.address_Dispatcher);a.setState({address_Dispatcher:a.address_Dispatcher,Dispatcher:t}),t.methods.getReserveRatio().call().then((function(e){a.setState({Current_Dispatcher_Ratio:e})})),t.methods.getReserveUpperLimit().call().then((function(e){t.methods.getReserveLowerLimit().call().then((function(t){a.setState({Reserve_Upper_Limit:e,Reserve_Lower_Limit:t})}))})),t.methods.getPrinciple().call().then((function(e){t.methods.getReserve().call().then((function(t){a.setState({Total_Principle:e,Pool_Reserve:t,Gross_Amount:a.bn(e).add(a.bn(t)).toString()})}))})),t.methods.getTHStructures().call().then((function(e){a.setState({arr_Propotion:e[0],arr_handler_address:e[1],arr_TargetHandlerAddress:e[2]},(function(){a.get_handler_arr()}))})),t.methods.getProfitBeneficiary().call().then((function(e){var t=new a.new_web3.eth.Contract(L,a.address_USDC);a.setState({USDC:t,ProfitBeneficiary_address:e}),t.methods.balanceOf(e).call().then((function(e){e&&a.setState({my_balance:e},(function(){console.log(a.state.my_balance)}))}))}))})),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(h.a,{keyboard:!1,maskClosable:!1,title:"Add Handler",visible:this.state.visible_add_handler,onOk:this.handleOk,onCancel:this.handleCancel_add_handler,centered:!0,cancelText:"quxiao",footer:!1},s.a.createElement("div",{className:"popup-add-handler"},s.a.createElement("div",{className:"popup-add-handler-wrap"},s.a.createElement("div",{className:"popup-add-handler-left"},"Handler: "),s.a.createElement("div",{className:"popup-add-handler-right"},s.a.createElement(b.a,{value:this.state.add_handler_address,onChange:function(t){e.add_handler_change(t.target.value)}}))),s.a.createElement("div",{className:"popup-add-handler-confirm"},s.a.createElement("span",{className:this.state.add_handler_enable?"confirm-btn active":"confirm-btn",onClick:function(){e.add_handler_click()}},"Confirm")))),s.a.createElement(h.a,{keyboard:!1,maskClosable:!1,title:"Target Reserve Ratio",visible:this.state.visible_TR_ratio,onCancel:this.handleCancel_TR_ratio,centered:!0,cancelText:"quxiao",footer:!1},s.a.createElement("div",{className:"popup-TR-retio"},s.a.createElement("div",{className:"popup-TR-item"},s.a.createElement("div",{className:"popup-TR-1"},"Upper Limit:"),s.a.createElement("div",{className:"popup-TR-2"},s.a.createElement(b.a,{type:"number",value:this.state.Reserve_Upper_Limit_cp,onChange:function(t){e.input_Upper_change(t.target.value)}}),"%"),s.a.createElement("div",{className:"popup-TR-3"},s.a.createElement("span",{className:this.state.Upper_Limit_enable?"confirm-btn active":"confirm-btn",onClick:function(){e.Upper_Limit_click()}},"Confirm"))),s.a.createElement("div",{className:"popup-TR-item"},s.a.createElement("div",{className:"popup-TR-1"},"Lower Limit:"),s.a.createElement("div",{className:"popup-TR-2"},s.a.createElement(b.a,{type:"number",value:this.state.Reserve_Lower_Limit_cp,onChange:function(t){e.input_Lower_change(t.target.value)}}),"%"),s.a.createElement("div",{className:"popup-TR-3"},s.a.createElement("span",{className:this.state.Lower_Limit_enable?"confirm-btn active":"confirm-btn",onClick:function(){e.Lower_Limit_click()}},"Confirm"))))),s.a.createElement(h.a,{keyboard:!1,maskClosable:!1,title:"Handler Ratio",visible:this.state.visible_Handler_ratio,onCancel:this.handleCancel_Handler_ratio,centered:!0,cancelText:"quxiao",footer:!1},s.a.createElement("div",{className:"popup-handler-ratio"},this.state.arr_handler_address&&this.state.arr_handler_address.map((function(t,a){return s.a.createElement("div",{className:"popup-handler-item",key:a},s.a.createElement("div",{className:"popup-handler-item-top"},s.a.createElement("span",{className:"item-top-title"},"Handler: "),s.a.createElement("span",{className:"item-top-address"},t)),s.a.createElement("div",{className:"popup-handler-item-bottom"},s.a.createElement(b.a,{type:"number",onChange:function(t){e.handler_ratio_change(t.target.value,a)},value:e.state.handler_ratio_arr[a]}),"%"))})),s.a.createElement("div",{className:"popup-handler-confirm"},s.a.createElement("span",{className:this.state.handler_ratio_enable?"confirm-btn active":"confirm-btn",onClick:function(){e.handler_ratio_click()}},"Confirm")))),s.a.createElement(h.a,{keyboard:!1,maskClosable:!1,title:"Update ProfitBeneficiary",visible:this.state.visible_Beneficiary,onOk:this.handleOk,onCancel:this.handleCancel_Beneficiary,centered:!0,cancelText:"quxiao",footer:!1},s.a.createElement("div",{className:"popup-add-handler"},s.a.createElement("div",{className:"popup-add-handler-wrap"},s.a.createElement("div",{className:"popup-add-handler-left"},"Handler: "),s.a.createElement("div",{className:"popup-add-handler-right"},s.a.createElement(b.a,{value:this.state.update_Beneficiary,onChange:function(t){e.update_Beneficiary_change(t.target.value)}}))),s.a.createElement("div",{className:"popup-add-handler-confirm"},s.a.createElement("span",{className:"confirm-btn",onClick:function(){e.update_Beneficiary_click()}},"Confirm")))),s.a.createElement(h.a,{keyboard:!1,maskClosable:!1,title:this.state.click_action+" Tips",visible:this.state.visible_click_action,onOk:this.handleOk,onCancel:this.handleCancel_click_action,centered:!0,cancelText:"quxiao",footer:!1},s.a.createElement("div",{className:"popup-tips"},s.a.createElement("div",{className:"popup-tips-wrap"},"Please make sure you want to ",this.state.click_action," this TargetHandler?"),s.a.createElement("div",{className:"popup-tips-confirm"},s.a.createElement("span",{className:"confirm-btn",onClick:function(){e.update_click_action_click()}},"Confirm")))),s.a.createElement("div",{className:"app-left"},s.a.createElement("span",{className:"platform-name"},"USDx Protocol")),s.a.createElement("div",{className:"app-right"},s.a.createElement("div",{className:"dispatcher"},s.a.createElement("div",{className:"dispatcher-left"},"Dispatcher"),s.a.createElement("div",{className:"dispatcher-right"},s.a.createElement("span",{className:"dispatcher-right-edit"},s.a.createElement("img",{src:N.a,alt:"",onClick:this.showModal_Beneficiary})),s.a.createElement("span",{className:"dispatcher-right-account"},this.state.ProfitBeneficiary_address?this.state.ProfitBeneficiary_address.slice(0,4)+"..."+this.state.ProfitBeneficiary_address.slice(-4):"\xb7\xb7\xb7"),s.a.createElement("span",{className:"dispatcher-right-text"},"ProfitBeneficiary"),s.a.createElement("div",{className:"dispatcher-right-balance"},this.state.my_balance?f(u(this.state.my_balance,this.state.decimals.USDC,2)):"\xb7\xb7\xb7"))),s.a.createElement("div",{className:"content-wrap"},s.a.createElement("div",{className:"dispatcher-content"},s.a.createElement(g.a,{onChange:P,type:"card",size:"large"},s.a.createElement(g.a.TabPane,{tab:"USDC",key:"1"},s.a.createElement("div",{className:"content-top"},s.a.createElement("div",{className:"content-top-left"},s.a.createElement("img",{src:w.a,alt:""}),s.a.createElement("span",{className:"token-name"},"USDC"),s.a.createElement("div",{className:"dispatcher-address"},"Dispatcher:",s.a.createElement("span",null,this.state.address_Dispatcher?" "+this.state.address_Dispatcher.slice(0,8)+"..."+this.state.address_Dispatcher.slice(-8):"\xb7\xb7\xb7"))),s.a.createElement("div",{className:"content-top-right"},s.a.createElement("span",{className:"gross-title"},"Gross Amount"),s.a.createElement("span",{className:"gross-num"},this.state.Gross_Amount?f(u(this.state.Gross_Amount,this.state.decimals.USDC,2)):"\xb7\xb7\xb7"))),s.a.createElement("div",{className:"content-center"},s.a.createElement("div",{className:"content-center-left"},s.a.createElement("div",{className:"item"},s.a.createElement("div",{className:"item-title"},"Target Reserve Ratio",s.a.createElement("span",{className:"img-wrap"},s.a.createElement("img",{src:N.a,alt:"",onClick:this.showModal_TR_ratio}))),s.a.createElement("div",{className:"item-num"},this.state.Reserve_Upper_Limit&&this.state.Reserve_Lower_Limit?m(this.state.Reserve_Lower_Limit)+" ~ "+m(this.state.Reserve_Upper_Limit):"\xb7\xb7\xb7")),s.a.createElement("div",{className:"item"},s.a.createElement("div",{className:"item-title"},"Pool Reserve"),s.a.createElement("div",{className:"item-num"},this.state.Pool_Reserve?f(u(this.state.Pool_Reserve,this.state.decimals.USDC,2)):"\xb7\xb7\xb7")),s.a.createElement("div",{className:"item"},s.a.createElement("div",{className:"item-title"},"Handler Ratio",s.a.createElement("span",{className:"img-wrap"},s.a.createElement("img",{src:N.a,alt:"",onClick:this.showModal_Handler_ratio}))),s.a.createElement("div",{className:"item-num"},this.state.arr_Propotion&&this.state.arr_Propotion.map((function(t,a){return a===e.state.arr_Propotion.length-1?s.a.createElement("span",{key:a},m(t)):s.a.createElement("span",{key:a},m(t)+" / ")})),!this.state.arr_Propotion&&"\xb7\xb7\xb7"))),s.a.createElement("div",{className:"content-center-right"},s.a.createElement("div",{className:"item"},s.a.createElement("div",{className:"item-title"},"Current Dispatcher Ratio"),s.a.createElement("div",{className:"item-num"},this.state.Current_Dispatcher_Ratio?m(this.state.Current_Dispatcher_Ratio):"\xb7\xb7\xb7")),s.a.createElement("div",{className:"item"},s.a.createElement("div",{className:"item-title"},"Total Principle"),s.a.createElement("div",{className:"item-num"},this.state.Total_Principle?f(u(this.state.Total_Principle,this.state.decimals.USDC,2)):"\xb7\xb7\xb7")))),s.a.createElement("div",{className:"content-bottom"},s.a.createElement("div",{className:"content-bottom-top"},s.a.createElement("div",{className:"btn-wrap"},s.a.createElement("span",{className:"btn",onClick:function(){e.addTargetHandler()}},"Add Handler")),s.a.createElement("div",{className:"btn-wrap noborder"},s.a.createElement("span",{className:"btn",onClick:function(){e.withdrawProfit()}},"Withdraw Profit"))),s.a.createElement("div",{className:"content-bottom-bottom"},s.a.createElement("span",{className:"btn",onClick:function(){e.trigger()}},"Trigger")))))),s.a.createElement("div",{className:"content-right"},s.a.createElement("span",{className:"handler"},"Handler"),this.state.arr_handler&&this.state.arr_handler.map((function(t,a){return s.a.createElement(_,{key:a,index:a,data:t,ratio:e.state.arr_Propotion[a],decimals:e.state.decimals.USDC,del_item:function(){e.del_item(a)},clear_item:function(){e.clear_item(a)},TargetHandlerAddress:e.state.arr_TargetHandlerAddress[a]})}))))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[301,1,2]]]);
//# sourceMappingURL=main.3ff24571.chunk.js.map